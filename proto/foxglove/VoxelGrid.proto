// Generated by https://github.com/foxglove/foxglove-sdk

syntax = "proto3";

import "foxglove/PackedElementField.proto";
import "foxglove/Pose.proto";
import "foxglove/Vector3.proto";
import "google/protobuf/timestamp.proto";

package foxglove;

// A 3D grid of data
message VoxelGrid {
  // Timestamp of grid
  google.protobuf.Timestamp timestamp = 1;

  // Frame of reference
  string frame_id = 2;

  // Origin of the grid’s lower-front-left corner in the reference frame. The grid’s pose is defined relative to this corner, so an untransformed grid with an identity orientation has this corner at the origin.
  foxglove.Pose pose = 3;

  // Number of grid rows
  fixed32 row_count = 4;

  // Number of grid columns
  fixed32 column_count = 5;

  // Size of single grid cell along x, y, and z axes, relative to `pose`
  foxglove.Vector3 cell_size = 6;

  // Number of bytes between depth slices in `data`
  fixed32 slice_stride = 7;

  // Number of bytes between rows in `data`
  fixed32 row_stride = 8;

  // Number of bytes between cells within a row in `data`
  fixed32 cell_stride = 9;

  // Fields in `data`. `red`, `green`, `blue`, and `alpha` are optional for customizing the grid's color.
  repeated foxglove.PackedElementField fields = 10;

  // Grid cell data, interpreted using `fields`, in depth-major, row-major (Z-Y-X) order.
  // For the data element starting at byte offset i, the coordinates of its corner closest to the origin will be:
  // 
  // - z = i / slice_stride * cell_size.z
  // - y = (i % slice_stride) / row_stride * cell_size.y
  // - x = (i % row_stride) / cell_stride * cell_size.x
  bytes data = 11;
}
